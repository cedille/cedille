module Cast2.

ğ’Œ = â˜… â” â˜… .

Cast2 â—‚ ğ’Œ â” ğ’Œ â” â˜… = Î» A : ğ’Œ . Î» B : ğ’Œ .
       Î¹ cast2 : âˆ€ X : â˜… . A Â· X â” B Â· X . {cast2 â‰ƒ Î» x . x}.

cast2 â—‚ âˆ€ A : ğ’Œ . âˆ€ B : ğ’Œ . Cast2 Â· A Â· B â¾ âˆ€ X : â˜… . A Â· X â” B Â· X = 
  Î› A . Î› B . Î› c . Î› X . Î» a . Ï† (Ï c.2 - Î²) - (c.1 Â· X a) {a} .

caste2 â—‚ âˆ€ A : ğ’Œ . âˆ€ B : ğ’Œ . Î  f : âˆ€ X : â˜… . A Â· X â” B Â· X . (âˆ€ X : â˜… . Î  a : A Â· X . {f a â‰ƒ a}) â¾ Cast2 Â· A Â· B =
  Î› A . Î› B . Î» f . Î› e . [ Î› X . Î» a . Ï† (e Â· X a) - (f Â· X a) {a} , Î² ] .

castCompose2 â—‚  âˆ€ A : ğ’Œ . âˆ€ B : ğ’Œ . âˆ€ C : ğ’Œ . Cast2 Â· A Â· B â” Cast2 Â· B Â· C â” Cast2 Â· A Â· C =
  Î› A . Î› B . Î› C . Î» c1 . Î» ca . [ Î› X . Î» a . cast2 Â· B Â· C -ca Â· X (cast2 Â· A Â· B -c1 Â· X a) , Î²] .

castId2 â—‚ âˆ€ A : ğ’Œ . Cast2 Â· A Â· A =
  Î› A . [ Î› X . Î» a . a , Î²].
