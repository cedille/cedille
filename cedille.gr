cedille

Start

start

Syntactic

Cmds : start -> ows cmds ows .
CmdsStart : cmds -> cmd .
CmdsNext : cmds -> cmd ws cmds .

DefCmd : cmd -> def ows '.' .
Echeck : cmd -> class ows 'by' ows evidence ows 'â‡' ows evidence ows '.'.
Kcheck : cmd -> kind ows 'â‡' ows 'â–¡' ows 'by' ows evidence ows '.'.
Print : cmd -> 'print' ws var ows '.'.
Normalize : cmd -> 'normalize' ws term ows '.'.
SynthTerm : cmd -> var ows 'âˆ·' ws term ows '=' ows evidence ows '.'.
SynthType : cmd -> var ows 'âˆ·type' ows type ows '=' ows evidence ows '.'.

Tdefine : def -> var ows '=' ows term.
Edefine : def -> var ows 'âˆ·' ows class ows '=' ows evidence ows 'â‡' ows evidence .
Kdefine : def -> kvar ows 'âˆ·' ows kind ows 'â‡' ows 'â–¡' ows '=' ows evidence.

Tp : class -> term ows 'â‡' ows type.
Knd : class -> type ows 'â‡' ows kind.

App : lterm -> lterm ws lterm .
Var : lterm -> var .
Lam : term -> 'Î»' ows var ows '.' ows term .
embed : term -> lterm .
Parens : lterm -> '(' ows term ows ')' . 

AbsTp1 : type -> ip ows var ows ':' ows type ows '.' ows type .
AbsTp2 : type -> al ows var ows ':' ows tk ows '.' ows type .
TpArrow : type -> ltype ows 'â†’' ows type.
embed : type -> ltype.
Nu : type -> 'Î½' ows var ows ':' ows kind ows '|' ows ctorset ows '.' ows type.

Empty : ctorset -> 'Â·'.
Add : ctorset -> term ows 'âˆˆ' ows type ows ',' ows ctorset .

U : ltype -> 'ð“¤'.
Lft : ltype -> 'â†‘' ows term ows ':' ows lliftingType .
TpParens : ltype -> '(' ows type ows ')'.
TpApp : ltype -> ltype ws 'Â·' ws ltype.
TpAppt : ltype -> ltype ws lterm.
TpVar : ltype -> var.

KndPi : kind -> 'Î ' ows var ows ':' ows tk ows '.' ows kind .
KndArrow : kind -> kind ows 'â†’' ows kind .
KndTpArrow : kind -> ltype ows 'â†’' ows kind .
Star : kind -> 'â˜…'.
KndParens : kind -> '(' ows kind ows ')'.
KndVar : kind -> kvar.

LiftStar : liftingType -> 'â˜†'. 
LiftPi : liftingType -> 'Î ' ows var ows ':' ows type ows '.' ows liftingType .
LiftArrow : liftingType -> liftingType ows 'â†’' ows liftingType.
LiftTpArrow : liftingType -> type ows 'â†’' ows liftingType.
LiftParens : lliftingType -> '(' ows liftingType ows ')'.
embed : liftingType -> lliftingType.

Iota : ip -> 'Î¹'.
Pi : ip -> 'Î '.
All : al -> 'âˆ€'.
Lambda : al -> 'Î»'.
Tkt : tk -> type .
Tkk : tk -> kind .

checkCast : castDir -> 'â‡'.
synthCast : castDir -> 'â‡’'.

Cast : evidence -> 'Ï‡' ws evidence ows castDir ows evidence .
Xi : evidence -> 'Î¾' ows var opt_eclass ows '.' ows evidence .
EtaAll : evidence -> 'Î·âˆ€' ws evidence ws term .
Pair : evidence -> '[' ows evidence ows ',' ows evidence ows ']'.
Enu : evidence -> 'Î½' ws var ows ',' ows var ows '.' ows 
                  '[' ows evidence ows ',' ows evidence ows ',' ows evidence ows ',' ows evidence ows ']'.
Ctor : evidence -> 'Î¶' ws evidence ows ':' ows type .
Ctora : evidence -> 'Î¶' ws var .
Eprint : evidence -> '?' showCtxt ows evidence.
Elift : evidence -> 'â†‘' ws var ows '.' ows evidence ows ':' ows evidence .
EliftCong : evidence -> 'â†‘c' ws evidence .
LamCong : evidence -> 'Î¾' ows '.' ows evidence .
Rbeta : evidence -> 'rÎ²' ws evidence ws term ows 'â‡’' ows evidence .
embed : evidence -> levidence.
Elet : evidence -> 'Î´' ws def ws '-' ws evidence.

One : index -> '1'.
Two : index -> '2'.

Sym : levidence -> '~' ows levidence.
Trans : levidence -> levidence ows 'Â·' ows levidence .
Eapp : levidence -> levidence ws levidence .
Eappt : levidence -> '{' ows levidence ws term ows '}'.
Eappk : levidence -> 'âŒ©' ows levidence ws type ows 'âŒª'.
Proj : levidence -> levidence ows '.' ows index.
Eparens : levidence -> '(' ows evidence ows ')'.
Earrow : levidence -> levidence ows 'â‡’' ows levidence.
EholeNamed : levidence -> 'â—' showCtxt var.
Ehole : levidence -> 'â—' showCtxt.
Beta : levidence -> 'Î²' .
RbetaLift : levidence -> 'rÎ²â†‘' ws num.
EtaLift : levidence -> 'Î·â†‘' ws num.
Evar : levidence -> evar.
Check : levidence -> 'âœ“'.

showCtxtYes : showCtxt -> '!' .
showCtxtNo : showCtxt -> .

EclassSome : opt_eclass -> ows ':' ows evidence .
EclassNone : opt_eclass -> .

Lexical

varone -> ['a' - 'z'] | ['A' - 'Z'] | quote | '-'.

kvar -> 'ð’Œ' var?.

var -> varone+ .

evar -> var | kvar.

numone -> ['0' - '9'].

num -> numone+.

anychar => varone | '\t' | space | 'ð’Œ' | '%' | '1' | '2' | 'âˆ·' | 'âœ“' | 'â–¡' | 'Î ' | 'Î¹' | 'Î»' | 'âˆ€' | 'Ï€' | 'â˜…' | 'â˜†' | 'Â·' | 'Î¾' | 'â‡' | 'âˆˆ' | 'Î½' | 'â†’' | 'â†‘' | 'ð“¤' | 'â—' | '(' | ')' | ':' | '.' | 'Ï‡' | 'Î²' | 'Î´' | 'Î¶' | '[' | ']' | ',' | '!' | '{' | '}' | 'â‡’' | '?' | '~' | 'Î·' | numone.

comment => '%' anychar* '\n'.

aws => ('\n' | '\t' | space | comment).
ws => aws+.
ows => aws* .

Vars
  b w x y z zz

Rules
  App(x,App(y,z)) -> App(App(x,y),z)
  LiftArrow(LiftArrow(x,y),z) -> LiftArrow(x,LiftArrow(y,z))
  LiftArrow(LiftTpArrow(x,y),z) -> LiftTpArrow(x,LiftArrow(y,z))
  LiftTpArrow(TpArrow(x,y),z) -> LiftTpArrow(x,LiftTpArrow(y,z))
  LiftArrow(LiftPi(w,x,y),z) -> LiftPi(w,x,LiftArrow(y,z))
  

  KndArrow(KndArrow(x,y),z) -> KndArrow(x,KndArrow(y,z))
  KndArrow(KndTpArrow(x,y),z) -> KndTpArrow(x,KndArrow(y,z))
  KndArrow(KndPi(w,x,y),z) -> KndPi(w,x,KndArrow(y,z))

  TpApp(x,TpApp(y,z)) -> TpApp(TpApp(x,y),z)
  TpApp(x,TpAppt(y,z)) -> TpAppt(TpApp(x,y),z)
  TpAppt(x,App(y,z)) -> TpAppt(TpAppt(x,y),z)
  Eapp(x,Eapp(y,z)) -> Eapp(Eapp(x,y),z)

  Earrow(Earrow(x,y),z) -> Earrow(x,Earrow(y,z))
  Eapp(Earrow(x,y),z) -> Earrow(x,Eapp(y,z))
  Eapp(x,Earrow(y,z)) -> Earrow(Eapp(x,y),z)

  Proj(Earrow(x,y),z) -> Earrow(x,Proj(y,z))
  Proj(Eapp(x,y),z) -> Eapp(x,Proj(y,z))

  Trans(Trans(x,y),z) -> Trans(x,Trans(y,z))
  Sym(Trans(x,y)) -> Trans(Sym(x),y)
  Sym(Eapp(x,y)) -> Eapp(Sym(x),y)
  Eapp(Trans(x,y),z) -> Trans(x,Eapp(y,z))
  Eapp(x,Trans(y,z)) -> Trans(Eapp(x,y),z)

  Trans(Earrow(x,y),z) -> Earrow(x,Trans(y,z))
  Trans(x,Earrow(y,z)) -> Earrow(Trans(x,y),z)
  Sym(Earrow(x,y)) -> Earrow(Sym(x),y)

  Proj(Sym(x),y) -> Sym(Proj(x,y))
  Proj(Trans(x,y),z) -> Trans(x,Proj(y,z))